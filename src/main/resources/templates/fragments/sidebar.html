<nav
  th:fragment="sidebar"
  id="sidebarMenu"
  class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse"
>
  <div class="position-sticky pt-3 sidebar-sticky">
    <ul class="nav flex-column">
      <li class="nav-item">
        <a
          class="nav-link text-white"
          th:classappend="${activePage == 'dashboard'} ? 'active bg-primary'"
          href="/dashboard"
        >
          <i class="bi bi-speedometer2 me-2"></i>
          <span>Dashboard</span>
        </a>
      </li>
      <li class="nav-item">
        <a
          class="nav-link text-white"
          th:classappend="${activePage == 'ingresos'} ? 'active bg-success'"
          href="/movimientos/ingresos"
        >
          <i class="bi bi-graph-up-arrow me-2"></i>
          <span>Ingresos</span>
        </a>
      </li>
      <li class="nav-item">
        <a
          class="nav-link text-white"
          th:classappend="${activePage == 'egresos'} ? 'active bg-danger'"
          href="/movimientos/egresos"
        >
          <i class="bi bi-graph-down-arrow me-2"></i>
          <span>Egresos</span>
        </a>
      </li>
      <li class="nav-item">
        <a
          class="nav-link text-white"
          th:classappend="${activePage == 'notificaciones'} ? 'active bg-warning'"
          href="/notificaciones"
        >
          <i class="bi bi-bell me-2"></i>
          <span>Notificaciones</span>
        </a>
      </li>
    </ul>

    <hr class="my-3 border-secondary" />

    <h6
      class="sidebar-heading d-flex justify-content-between align-items-center px-3 mb-2 text-muted text-uppercase small"
    >
      <span>Configuraci√≥n</span>
    </h6>
    <ul class="nav flex-column mb-2">
      <li class="nav-item">
        <a
          class="nav-link text-white"
          th:classappend="${activePage == 'preferencias'} ? 'active bg-info'"
          href="/preferencias"
        >
          <i class="bi bi-gear me-2"></i>
          <span>Preferencias</span>
        </a>
      </li>
    </ul>
  </div>

  <style>
    /* Minimal custom styles for sidebar */
    .sidebar {
      position: fixed;
      top: 56px;
      bottom: 0;
      left: 0;
      z-index: 100;
      padding: 0;
      box-shadow: inset -1px 0 0 rgba(0, 0, 0, 0.1);
    }

    .sidebar-sticky {
      position: sticky;
      top: 0;
      height: calc(100vh - 56px);
      padding-top: 0.5rem;
      overflow-x: hidden;
      overflow-y: auto;
    }

    .sidebar .nav-link {
      font-weight: 500;
      color: #ffffff;
      padding: 0.75rem 1rem;
      border-radius: 0.375rem;
      margin: 0.25rem 0.5rem;
      transition: all 0.2s ease-in-out;
    }

    .sidebar .nav-link:hover {
      background-color: rgba(255, 255, 255, 0.1);
      transform: translateX(5px);
    }

    .sidebar .nav-link.active {
      font-weight: 600;
      border-left: 4px solid #ffffff;
      padding-left: calc(1rem - 4px);
    }

    .sidebar .nav-link i {
      font-size: 1.1rem;
    }

    @media (max-width: 767.98px) {
      .sidebar {
        top: 0;
      }
    }
  </style>
</nav>
